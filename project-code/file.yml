swagger: "2.0"
info:
  description: A file is a computer resource allowing storage of data
    that is being processed. The interface to a file provides the
    mechanism to appropriately locate a file in a distributed
    system. File identification includes the name, endpoint, checksum,
    and size. Additional parameters, such as the last access time,
    could also be stored. The interface only describes the location of
    the file.  The file object has name, endpoint (location), size in
    GB, MB, Byte, checksum for integrity check, and last accessed
    timestamp.
  version: "1.0.0"
  title: file
consumes:
  - application/json
produces:
  - application/json

basePath: /cloudmesh

paths:
  /files/{provider}:
    get:
      tags:
        File
      description: Returns all files from a specific provider
      operationId: file.get_files
      parameters:
        - name: provider
          in: path
          type: string
          required: True
      produces:
        - application/json
      responses:
        '200':
          description: file list
          schema:
            $ref: '#/definitions/File'
  /file/{provider}/{filename}:
    get:
      tags:
        File
      description: Returns a file for a specifc provider
      operationId: file.get_file_by_name
      parameters:
        - name: provider
          in: path
          type: string
          required: True
        - name: filename
          in: path
          required: true
          type: string
      produces:
        - application/json
      responses:
        '200':
          description: file info
          schema:
            $ref: '#/definitions/File'
    post:
      tags:
        File
      description: Upload a file to a provider
      operationId: file.upload_file_by_name
      parameters:
        - name: provider
          in: path
          type: string
          required: True
        - name: filename
          in: path
          required: true
          type: string
      produces:
        - application/json
      responses:
        '200':
          description: file uploaded
          schema:
            $ref: '#/definitions/File'
definitions:
  File:
    type: object
    description: the file
    properties:
      name:
        type: string
        description: the name of the file
      endpoint:
        type: string
        description: The location of the file
      checksum:
        type: string
        description: The checksum of the file
      size:
        type: integer
        description: The size of the file in byte
      timestamp:
        type: string
        description: The timestamp